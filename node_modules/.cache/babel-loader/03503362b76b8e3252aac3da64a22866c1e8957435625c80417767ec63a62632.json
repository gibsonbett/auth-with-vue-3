{"ast":null,"code":"/* eslint-disable */\n\nimport { createWebHistory, createRouter } from \"vue-router\";\nimport HomeComp from \"./components/HomeView.vue\";\nimport Login from \"./components/LoginComp.vue\";\nimport Register from \"./components/RegisterComp.vue\";\n// lazy-loaded\nconst Profile = () => import(\"./components/ProfileComp.vue\");\nconst BoardAdmin = () => import(\"./components/board-admin.vue\");\nconst BoardModerator = () => import(\"./components/BoardModerator.vue\");\nconst BoardUser = () => import(\"./components/BoardUser.vue\");\nrouter.beforeEach((to, from, next) => {\n  const publicPages = ['/login', '/register', '/home'];\n  const authRequired = !publicPages.includes(to.path);\n  const loggedIn = localStorage.getItem('user');\n\n  // trying to access a restricted page + not logged in\n  // redirect to login page\n  if (authRequired && !loggedIn) {\n    next('/login');\n  } else {\n    next();\n  }\n});\nconst router = createRouter({\n  history: createWebHistory(),\n  routes: [{\n    path: \"/\",\n    name: \"home\",\n    component: HomeComp\n  }, {\n    path: \"/home\",\n    component: HomeComp\n  }, {\n    path: \"/login\",\n    component: Login\n  }, {\n    path: \"/register\",\n    component: Register\n  }, {\n    path: \"/profile\",\n    name: \"profile\",\n    // lazy-loaded\n    component: Profile\n  }, {\n    path: \"/admin\",\n    name: \"admin\",\n    // lazy-loaded\n    component: BoardAdmin\n  }, {\n    path: \"/mod\",\n    name: \"moderator\",\n    // lazy-loaded\n    component: BoardModerator\n  }, {\n    path: \"/user\",\n    name: \"user\",\n    // lazy-loaded\n    component: BoardUser\n  }]\n});\nexport default router;","map":{"version":3,"names":["createWebHistory","createRouter","HomeComp","Login","Register","Profile","BoardAdmin","BoardModerator","BoardUser","router","beforeEach","to","from","next","publicPages","authRequired","includes","path","loggedIn","localStorage","getItem","history","routes","name","component"],"sources":["/home/sircastic/authentication-with-vue-3/src/router.js"],"sourcesContent":["/* eslint-disable */\n\nimport { createWebHistory, createRouter } from \"vue-router\";\nimport HomeComp from \"./components/HomeView.vue\";\nimport Login from \"./components/LoginComp.vue\";\nimport Register from \"./components/RegisterComp.vue\";\n// lazy-loaded\nconst Profile = () => import(\"./components/ProfileComp.vue\")\nconst BoardAdmin = () => import(\"./components/board-admin.vue\")\nconst BoardModerator = () => import(\"./components/BoardModerator.vue\")\nconst BoardUser = () => import(\"./components/BoardUser.vue\")\n\nrouter.beforeEach((to, from, next) => {\n    const publicPages = ['/login', '/register', '/home'];\n    const authRequired = !publicPages.includes(to.path);\n    const loggedIn = localStorage.getItem('user');\n  \n    // trying to access a restricted page + not logged in\n    // redirect to login page\n    if (authRequired && !loggedIn) {\n      next('/login');\n    } else {\n      next();\n    }\n  });\n\n  const router = createRouter({\n    history: createWebHistory(),\n     routes: [\n  {\n    path: \"/\",\n    name: \"home\",\n    component: HomeComp,\n  },\n  {\n    path: \"/home\",\n    component: HomeComp,\n  },\n  {\n    path: \"/login\",\n    component: Login,\n  },\n  {\n    path: \"/register\",\n    component: Register,\n  },\n  {\n    path: \"/profile\",\n    name: \"profile\",\n    // lazy-loaded\n    component: Profile,\n  },\n  {\n    path: \"/admin\",\n    name: \"admin\",\n    // lazy-loaded\n    component: BoardAdmin,\n  },\n  {\n    path: \"/mod\",\n    name: \"moderator\",\n    // lazy-loaded\n    component: BoardModerator,\n  },\n  {\n    path: \"/user\",\n    name: \"user\",\n    // lazy-loaded\n    component: BoardUser,\n  },\n]\n})\n\n\nexport default router;"],"mappings":"AAAA;;AAEA,SAASA,gBAAgB,EAAEC,YAAY,QAAQ,YAAY;AAC3D,OAAOC,QAAQ,MAAM,2BAA2B;AAChD,OAAOC,KAAK,MAAM,4BAA4B;AAC9C,OAAOC,QAAQ,MAAM,+BAA+B;AACpD;AACA,MAAMC,OAAO,GAAGA,CAAA,KAAM,MAAM,CAAC,8BAA8B,CAAC;AAC5D,MAAMC,UAAU,GAAGA,CAAA,KAAM,MAAM,CAAC,8BAA8B,CAAC;AAC/D,MAAMC,cAAc,GAAGA,CAAA,KAAM,MAAM,CAAC,iCAAiC,CAAC;AACtE,MAAMC,SAAS,GAAGA,CAAA,KAAM,MAAM,CAAC,4BAA4B,CAAC;AAE5DC,MAAM,CAACC,UAAU,CAAC,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;EAClC,MAAMC,WAAW,GAAG,CAAC,QAAQ,EAAE,WAAW,EAAE,OAAO,CAAC;EACpD,MAAMC,YAAY,GAAG,CAACD,WAAW,CAACE,QAAQ,CAACL,EAAE,CAACM,IAAI,CAAC;EACnD,MAAMC,QAAQ,GAAGC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;;EAE7C;EACA;EACA,IAAIL,YAAY,IAAI,CAACG,QAAQ,EAAE;IAC7BL,IAAI,CAAC,QAAQ,CAAC;EAChB,CAAC,MAAM;IACLA,IAAI,CAAC,CAAC;EACR;AACF,CAAC,CAAC;AAEF,MAAMJ,MAAM,GAAGR,YAAY,CAAC;EAC1BoB,OAAO,EAAErB,gBAAgB,CAAC,CAAC;EAC1BsB,MAAM,EAAE,CACX;IACEL,IAAI,EAAE,GAAG;IACTM,IAAI,EAAE,MAAM;IACZC,SAAS,EAAEtB;EACb,CAAC,EACD;IACEe,IAAI,EAAE,OAAO;IACbO,SAAS,EAAEtB;EACb,CAAC,EACD;IACEe,IAAI,EAAE,QAAQ;IACdO,SAAS,EAAErB;EACb,CAAC,EACD;IACEc,IAAI,EAAE,WAAW;IACjBO,SAAS,EAAEpB;EACb,CAAC,EACD;IACEa,IAAI,EAAE,UAAU;IAChBM,IAAI,EAAE,SAAS;IACf;IACAC,SAAS,EAAEnB;EACb,CAAC,EACD;IACEY,IAAI,EAAE,QAAQ;IACdM,IAAI,EAAE,OAAO;IACb;IACAC,SAAS,EAAElB;EACb,CAAC,EACD;IACEW,IAAI,EAAE,MAAM;IACZM,IAAI,EAAE,WAAW;IACjB;IACAC,SAAS,EAAEjB;EACb,CAAC,EACD;IACEU,IAAI,EAAE,OAAO;IACbM,IAAI,EAAE,MAAM;IACZ;IACAC,SAAS,EAAEhB;EACb,CAAC;AAEH,CAAC,CAAC;AAGF,eAAeC,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}